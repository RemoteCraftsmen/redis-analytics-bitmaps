{"version":3,"sources":["webpack:///./src/components/DataDisplay/TheTrend.vue?cc10","webpack:///src/components/DataDisplay/TheTrend.vue","webpack:///./src/components/DataDisplay/TheTrend.vue?97b1","webpack:///./src/components/DataDisplay/TheTrend.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","loading","_v","chartData","staticRenderFns","from","to","labels","component","VCard","VCardText","VCardTitle"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,YAAY,OAAOC,MAAM,CAAC,QAAUP,EAAIQ,UAAU,CAACJ,EAAG,eAAe,CAACE,YAAY,QAAQ,CAACN,EAAIS,GAAG,yBAAyBL,EAAG,cAAc,CAACE,YAAY,QAAQ,CAACF,EAAG,kBAAkB,CAACE,YAAY,OAAOC,MAAM,CAAC,aAAaP,EAAIU,cAAc,IAAI,IAC9VC,EAAkB,G,4GCYtB,GACE,WAAF,CACI,cAAJ,WAAM,OAAN,uFAGE,KALF,WAMI,MAAJ,CACM,SAAN,EACM,SAAN,GACM,OAAN,KAIE,SAAF,iCACA,gBACI,cAAJ,gBACI,OAAJ,eAHA,IAMI,UANJ,WAOM,IAAN,GACA,mBACA,mBACA,mBACA,mBACA,oBAGA,cAGQ,IAFA,IAAR,KAEA,aACU,EAAV,QAGQ,OAAR,GAGA,GACA,2BACA,2BACA,2BACA,4BAGA,IAEA,+DAEA,GACQ,OAAR,YACQ,SAAR,IAaM,OAVA,KAAN,gCACQ,EAAR,eACU,gBAAV,EACU,YAAV,EACU,KAAV,EACU,YAAV,KACU,MAAV,UAIA,KAIE,QApEF,WAqEI,KAAJ,+BAGE,MAAF,CACI,cADJ,WAEM,KAAN,+BAEI,OAJJ,SAIA,GACM,KAAN,sBAIE,QAAF,iCACA,gBAAI,WAAJ,gBADA,IAGI,iBAHJ,SAGA,GAAM,IAAN,OAAM,OAAN,qDAAQ,IAAR,kBAAQ,OAAR,iFAEA,GACA,aACoBC,KAAM,aACNC,GAAI,aACJC,OAAQ,CAC5B,aACA,aACA,aACA,aACA,aACA,aACA,eAGA,aACoBF,KAAM,aACNC,GAAI,aACJC,OAAQ,CAC5B,aACA,aACA,aACA,aACA,aACA,aACA,eAGA,aACoBF,KAAM,aACNC,GAAI,aACJC,OAAQ,CAC5B,aACA,aACA,aACA,aACA,aACA,aACA,eAGA,aACoBF,KAAM,aACNC,GAAI,aACJC,OAAQ,CAC5B,aACA,aACA,aACA,aACA,aACA,aACA,eAGA,aACoBF,KAAM,aACNC,GAAI,aACJC,OAAQ,CAAC,aAAc,aAAc,gBA1DzD,EA8DA,WA9DA,EA8DA,OA9DA,EA8DA,GAEA,aAhEA,SAkEA,cACA,6DACA,uBApEA,OAkEA,EAlEA,OAuEA,cACA,cACA,YACA,CACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,cAGA,yFACA,yFACA,yFACA,yFAEA,yBACA,aAlHA,kDCjGiW,I,yDCO7VC,EAAY,eACd,EACAhB,EACAY,GACA,EACA,KACA,KACA,MAIa,aAAAI,EAAiB,QAOhC,IAAkBA,EAAW,CAACC,QAAA,KAAMC,UAAA,OAAUC,WAAA","file":"js/chunk-2d208337.3659041c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"card\",attrs:{\"loading\":_vm.loading}},[_c('v-card-title',{staticClass:\"px-4\"},[_vm._v(\"Trend chart (pages)\")]),_c('v-card-text',{staticClass:\"px-4\"},[_c('base-line-chart',{staticClass:\"px-8\",attrs:{\"chart-data\":_vm.chartData}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card class=\"card\" :loading=\"loading\">\n        <v-card-title class=\"px-4\">Trend chart (pages)</v-card-title>\n\n        <v-card-text class=\"px-4\">\n            <base-line-chart class=\"px-8\" :chart-data=\"chartData\" />\n        </v-card-text>\n    </v-card>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\n\nexport default {\n    components: {\n        baseLineChart: () => import('@/components/UI/Charts/BaseLineChart')\n    },\n\n    data() {\n        return {\n            loading: false,\n            datasets: [],\n            labels: []\n        };\n    },\n\n    computed: {\n        ...mapGetters({\n            refreshSignal: 'refreshSignal',\n            period: 'getPeriod'\n        }),\n\n        chartData() {\n            const backgroundColor = [\n                'rgba(0, 0, 0, 0)',\n                'rgba(0, 0, 0, 0)',\n                'rgba(0, 0, 0, 0)',\n                'rgba(0, 0, 0, 0)',\n                'rgba(0, 0, 0, 0)'\n            ];\n\n            const borderColorGenerator = borderColor => {\n                const colors = [];\n\n                for (let i = 0; i < 31; i++) {\n                    colors.push(borderColor);\n                }\n\n                return colors;\n            };\n\n            const boderColors = [\n                borderColorGenerator('rgba(255, 99, 132, 1)'),\n                borderColorGenerator('rgba(54, 162, 235, 1)'),\n                borderColorGenerator('rgba(255, 206, 86, 1)'),\n                borderColorGenerator('rgba(75, 192, 192, 1)')\n            ];\n\n            const borderWidth = 1;\n\n            const labels = ['Homepage', 'Product1 Page', 'Product2 Page', 'Product3 Page'];\n\n            const chartData = {\n                labels: this.labels,\n                datasets: []\n            };\n\n            this.datasets.forEach((dataset, index) => {\n                chartData.datasets.push({\n                    backgroundColor,\n                    borderWidth,\n                    data: dataset,\n                    borderColor: boderColors[index],\n                    label: labels[index]\n                });\n            });\n\n            return chartData;\n        }\n    },\n\n    created() {\n        this.fetchTrafficData(this.period);\n    },\n\n    watch: {\n        refreshSignal() {\n            this.fetchTrafficData(this.period);\n        },\n        period(period) {\n            this.fetchTrafficData(period);\n        }\n    },\n\n    methods: {\n        ...mapActions({ fetchTrend: 'fetchTrend' }),\n\n        async fetchTrafficData(period) {\n\n            const periods = {\n                '2015-12/1': {\n                    from: '2015-12-01',\n                    to: '2015-12-07',\n                    labels: [\n                        '2015-12-01',\n                        '2015-12-02',\n                        '2015-12-03',\n                        '2015-12-04',\n                        '2015-12-05',\n                        '2015-12-06',\n                        '2015-12-07'\n                    ]\n                },\n                '2015-12/2': {\n                    from: '2015-12-08',\n                    to: '2015-12-14',\n                    labels: [\n                        '2015-12-08',\n                        '2015-12-09',\n                        '2015-12-10',\n                        '2015-12-11',\n                        '2015-12-12',\n                        '2015-12-13',\n                        '2015-12-14'\n                    ]\n                },\n                '2015-12/3': {\n                    from: '2015-12-15',\n                    to: '2015-12-21',\n                    labels: [\n                        '2015-12-15',\n                        '2015-12-16',\n                        '2015-12-17',\n                        '2015-12-18',\n                        '2015-12-19',\n                        '2015-12-20',\n                        '2015-12-21'\n                    ]\n                },\n                '2015-12/4': {\n                    from: '2015-12-22',\n                    to: '2015-12-28',\n                    labels: [\n                        '2015-12-22',\n                        '2015-12-23',\n                        '2015-12-24',\n                        '2015-12-25',\n                        '2015-12-26',\n                        '2015-12-27',\n                        '2015-12-28'\n                    ]\n                },\n                '2015-12/5': {\n                    from: '2015-12-29',\n                    to: '2015-12-31',\n                    labels: ['2015-12-29', '2015-12-30', '2015-12-31']\n                }\n            };\n\n            const { from, to } = periods[period] || {};\n\n            this.loading = true;\n\n            const data = await this.fetchTrend({\n                filter: { pages: ['homepage', 'product1', 'product2', 'product3'] },\n                period: { from, to }\n            });\n\n            this.datasets = [];\n            this.labels = periods[period]\n                ? periods[period].labels\n                : [\n                      '2015-12-01',\n                      '2015-12-02',\n                      '2015-12-03',\n                      '2015-12-04',\n                      '2015-12-05',\n                      '2015-12-06',\n                      '2015-12-07',\n                      '2015-12-08',\n                      '2015-12-09',\n                      '2015-12-10',\n                      '2015-12-11',\n                      '2015-12-12',\n                      '2015-12-13',\n                      '2015-12-14',\n                      '2015-12-15',\n                      '2015-12-16',\n                      '2015-12-17',\n                      '2015-12-18',\n                      '2015-12-19',\n                      '2015-12-20',\n                      '2015-12-21',\n                      '2015-12-22',\n                      '2015-12-23',\n                      '2015-12-24',\n                      '2015-12-25',\n                      '2015-12-26',\n                      '2015-12-27',\n                      '2015-12-28',\n                      '2015-12-29',\n                      '2015-12-30',\n                      '2015-12-31'\n                  ];\n\n            const homepageData = data.filter(obj => obj.value === 'homepage').map(obj => obj.count);\n            const product1pageData = data.filter(obj => obj.value === 'product1').map(obj => obj.count);\n            const product2pageData = data.filter(obj => obj.value === 'product2').map(obj => obj.count);\n            const product3pageData = data.filter(obj => obj.value === 'product3').map(obj => obj.count);\n\n            this.datasets.push(homepageData, product1pageData, product2pageData, product3pageData);\n            this.loading = false;\n        }\n    }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheTrend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheTrend.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TheTrend.vue?vue&type=template&id=7a90e6cf&\"\nimport script from \"./TheTrend.vue?vue&type=script&lang=js&\"\nexport * from \"./TheTrend.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\ninstallComponents(component, {VCard,VCardText,VCardTitle})\n"],"sourceRoot":""}